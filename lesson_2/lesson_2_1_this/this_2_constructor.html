<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>构造器的调用</title>
</head>
<body>
    <script type="text/javascript">
        /*
            构造器的调用
            除了宿主提供的一些内置函数，大部分js函数都可以当作构造器使用。构造器的外表跟普通函数一样
            它们的区别在于调用的方式，当用new关键字调用的函数时，该函数返回一个对象，
            构造器里的this指向返回的这个对象
        */
        var MyClass = function(){
            this.name = 'sven';
        }
        var obj = new MyClass();
        console.log(obj.name); //返回sven
        /*
         * 但是要注意的时候，如果构造器对象中返回了一个指定的对象，那么他就不会返回this
         */
         var MyClass_1 = function(){
             this.name = 'efg';
             return {  //显式的返回了一个对象而不是默认返回this
                 name:'abc'
             }
         }
         var obj2 = new MyClass_1();
         console.log(obj2.name); //这里返回的就是abc而不是之前所预期的efg


        /*
            注意：当构造器显示的返回一个非对象类型的数据。那么他还是会返回this
        */
        var MyClass_2 = function(){
            this.name = 'abcd';
            return 'hello';
        }
        var b = new MyClass_2();
        console.log(b); //这里还是返回this


    </script>
</body>
</html>
