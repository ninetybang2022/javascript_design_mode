<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>javascript中命令队列 </title>
</head>
<body>

<div id="ball" style="width:50px;height:50px;background: #000;position: absolute;top:100px;left:100px;margin-top:20px;"></div>
<button id="up">上</button>
<button id="down">下</button>
<button id="left">左</button>
<button id="right">右</button>

<script>
    /**
     * 在订餐的故事中，如果订单的数量过多而厨师人手不够，则可以让这些订单进行排除处理
     * 第一个订单完成之后，再开始执行跟 第二个订单有关的操作
     *
     * 大部分用户有快速连续点击按钮的习惯，当用户第二次点击button时候，此时小球的前一个动画尚未结束，于是前一个动画停止
     * 了。小球 转而开始第二个动画。这并不是我们所期望的
     *
     * 把请求封装成命令对象的优点 在这里再次体现出现。对象的生命周期几乎是永久的，除非我们主动去回收他
     * 也就是说。命令对象的生命周期跟初始请求发生的时间无关，command对象的execute方法可以在程序运行的任何时刻执行。
     * 即使点击按钮早已经发生，但我们的命令对象仍然是有生命的
     *
     * 所以我们可以把div的这些运动过程都封装成命令对象，再把它们压进一个队列堆栈，当动画执行完成，也就是当前command对象的职责完成
     * 之后，会主动通知队列，此时取出正在队列中等待的第一个命令对象，并且执行它。
     *
     * 我们比较关注 的问题是，一个动画结束后该如何通知队列，通常可以使用回调函数来通知队列，队了回调函数之外，还可以选择发布-订阅模式，
     * 即在一个动画结束后发布一个消息，订阅者接收到这个消息 之后，便开始执行队列里的下一个动画。
     */


</script>
</body>
</html>